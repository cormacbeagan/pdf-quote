"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.findUpJsonFile = exports.toObject = exports.writeFile = void 0;
const console_utils_1 = require("@jfonx/console-utils");
const comment_json_1 = require("comment-json");
const findUp = require("find-up");
const fs_1 = require("fs");
function writeFile(param) {
    if (!param.force && fs_1.existsSync(param.file)) {
        return false;
    }
    fs_1.writeFileSync(param.file, param.content);
    return true;
}
exports.writeFile = writeFile;
function toObject(file, exitProgramOnError = true) {
    if (!fs_1.existsSync(file))
        console_utils_1.Output.error(`File ${file} not found`, exitProgramOnError);
    return comment_json_1.parse(fs_1.readFileSync(file, 'utf8').toString());
}
exports.toObject = toObject;
function findUpJsonFile({ filename, isJson, rootDir, }) {
    const path = findUp.sync(filename, { cwd: rootDir });
    if (path && isJson) {
        return {
            data: toObject(path),
            path: path,
        };
    }
    return path;
}
exports.findUpJsonFile = findUpJsonFile;
//# sourceMappingURL=file-utils.js.map