{"version":3,"file":"file-utils.js","sourceRoot":"","sources":["../src/file-utils.ts"],"names":[],"mappings":";;;AAAA,wDAA8C;AAC9C,+CAAqC;AACrC,kCAAkC;AAClC,2BAA6D;AAE7D,SAAgB,SAAS,CAAC,KAIzB;IACC,IAAI,CAAC,KAAK,CAAC,KAAK,IAAI,eAAU,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;QAC1C,OAAO,KAAK,CAAC;KACd;IACD,kBAAa,CAAC,KAAK,CAAC,IAAI,EAAE,KAAK,CAAC,OAAO,CAAC,CAAC;IACzC,OAAO,IAAI,CAAC;AACd,CAAC;AAVD,8BAUC;AAED,SAAgB,QAAQ,CAAU,IAAY,EAAE,kBAAkB,GAAG,IAAI;IACvE,IAAI,CAAC,eAAU,CAAC,IAAI,CAAC;QACnB,sBAAM,CAAC,KAAK,CAAC,QAAQ,IAAI,YAAY,EAAE,kBAAkB,CAAC,CAAC;IAE7D,OAAO,oBAAK,CAAC,iBAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AACtD,CAAC;AALD,4BAKC;AAED,SAAgB,cAAc,CAAoB,EAChD,QAAQ,EACR,MAAM,EACN,OAAO,GAKR;IACC,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,EAAE,GAAG,EAAE,OAAO,EAAE,CAAC,CAAC;IACrD,IAAI,IAAI,IAAI,MAAM,EAAE;QAClB,OAAO;YACL,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC;YACpB,IAAI,EAAE,IAAI;SACX,CAAC;KACH;IACD,OAAO,IAAI,CAAC;AACd,CAAC;AAjBD,wCAiBC","sourcesContent":["import { Output } from '@jfonx/console-utils';\r\nimport { parse } from 'comment-json';\r\nimport * as findUp from 'find-up';\r\nimport { existsSync, readFileSync, writeFileSync } from 'fs';\r\n\r\nexport function writeFile(param: {\r\n  file: string;\r\n  content: string;\r\n  force?: boolean;\r\n}): boolean {\r\n  if (!param.force && existsSync(param.file)) {\r\n    return false;\r\n  }\r\n  writeFileSync(param.file, param.content);\r\n  return true;\r\n}\r\n\r\nexport function toObject<T = any>(file: string, exitProgramOnError = true): T {\r\n  if (!existsSync(file))\r\n    Output.error(`File ${file} not found`, exitProgramOnError);\r\n\r\n  return parse(readFileSync(file, 'utf8').toString());\r\n}\r\n\r\nexport function findUpJsonFile<DataType = Object>({\r\n  filename,\r\n  isJson,\r\n  rootDir,\r\n}: {\r\n  filename: string;\r\n  isJson?: boolean;\r\n  rootDir?: string;\r\n}): { data: DataType; path: string } | string {\r\n  const path = findUp.sync(filename, { cwd: rootDir });\r\n  if (path && isJson) {\r\n    return {\r\n      data: toObject(path),\r\n      path: path,\r\n    };\r\n  }\r\n  return path;\r\n}\r\n"]}